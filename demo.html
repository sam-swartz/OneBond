<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Custom SVG World Map</title>
    <style>
      body,
      html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }
      #map-container {
        width: 100%;
        height: 100%;
        position: relative;
        overflow: hidden;
      }
      #world-map {
        width: 100%;
        height: 100%;
        transition: transform 0.1s ease;
      }
      .marker {
        width: 10px;
        height: 10px;
        background-color: purple;
        border-radius: 50%;
        position: absolute;
        transform: translate(-50%, -50%);
        cursor: pointer;
        transition: transform 0.3s ease;
      }
      .marker:hover {
        transform: translate(-50%, -50%) scale(1.5);
      }
      #popover {
        position: absolute;
        background-color: white;
        border: 1px solid #ccc;
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        display: none;
        z-index: 1000;
      }
    </style>
  </head>
  <body>
    <div id="map-container">
      <svg
        id="world-map"
        viewBox="0 0 1000 500"
        preserveAspectRatio="xMidYMid meet"
      >
        <path
          d="M700 343.5C682.4 334.3 683.667 324 686.5 320C678.5 322.4 670.167 318 667 315.5C661 309.5 646.833 310.333 640.5 311.5C610.1 314.7 586.5 302.833 578.5 296.5C552.5 272.9 574 256.333 588 251C603.6 245.4 619.833 235.333 626 231C645.2 235 663.333 229.333 670 226C686.8 220 693.666 226.167 695 230C701.4 242 718.666 242 726.5 240.5C746.5 235.3 762.833 237.667 768.5 239.5C787.3 243.1 798 241 801 239.5C815.4 232.3 806 228.5 799.5 227.5C797.9 226.3 784.833 227 778.5 227.5C768.1 229.1 762.833 222.167 761.5 218.5C756.3 210.9 750.333 212 748 213.5C750 223.9 743.833 224.167 740.5 223C718.1 199.4 703.833 197.167 699.5 199C697.5 203.4 702 206.5 704.5 207.5C711.3 210.3 714.667 215 715.5 217C713.9 223 707.5 222.167 704.5 221C699.7 209 687.833 204 682.5 203C680.5 205.4 672 206.333 668 206.5C656.4 206.5 651.833 212.167 651 215C651 221.8 644 224.5 640.5 225C622.1 229 611.833 224 608.999 221C597.399 205.8 609.833 203.333 617.499 204C632.299 205.6 640.999 204 643.499 203C653.899 199 643.499 194.333 636.999 192.5C619.799 188.1 628.166 186 634.499 185.5C644.899 184.7 661.166 180.5 668 178.5C665.6 168.1 695.333 168.167 710.5 169.5C733.7 169.1 738.166 161.667 737.5 158C729.5 150.4 743.166 148.833 751 149C763.8 146.6 757.666 143 753 141.5C750.6 141.5 741.666 140.167 737.5 139.5C726.7 136.3 730.333 131.167 733.5 129C741.5 123.8 737.833 120.833 735 120C711.4 121.6 708.833 133.667 710.5 139.5C714.1 146.7 712 153.167 710.5 155.5C704.1 164.3 697.5 159.167 695 155.5C692.2 147.9 681.5 147 676.5 147.5C662.9 143.1 671.833 134.333 678 130.5C688.4 124.5 693.666 115.333 695 111.5C696.6 104.7 701.666 100 704 98.5001C712.8 90.9001 733 90.0001 742 90.5001C754.8 90.1001 777.333 98.0001 787 102C797.4 104.4 797 109.333 795.5 111.5C793.5 114.3 782.666 114 777.5 113.5C758.3 113.5 769.5 119.5 777.5 122.5C795.9 126.1 812.5 118 818.5 113.5C823.7 110.7 845.666 99.3334 856 94.0001C872.8 88.0001 885.666 91.5001 890 94.0001C913.2 96.0001 918.666 89.1667 918.5 85.5001C916.9 75.1001 921.5 69.1667 924 67.5001C930.4 65.1001 936.333 61.8334 938.5 60.5001C938.9 49.7001 942.666 46.3334 944.5 46.0001C951.3 40.0001 977.666 35.5001 990 34.0001C1003.6 32.4001 1011 44.6667 1013 51.0001L1025 48.0001C1038.2 41.2001 1063.5 45.1667 1074.5 48.0001C1099.7 57.2001 1116 53.8334 1121 51.0001C1136.2 39.4001 1149.67 34.8334 1154.5 34.0001C1167.7 30.0001 1196 32.3334 1208.5 34.0001C1230.9 36.8001 1246.83 35.1668 1252 34.0001C1262 30.4001 1276.5 30.1667 1282.5 30.5001C1318.1 33.3001 1327 50.6667 1327 59.0001C1323 69.4001 1330.33 74.3334 1334.5 75.5001C1345.7 81.9001 1340.17 87.1667 1336 89.0001C1319.6 92.6001 1313.17 99.5001 1312 102.5C1314.8 118.5 1307.5 122.5 1303.5 122.5C1283.1 124.1 1285.33 115.167 1289 110.5C1298.6 102.5 1297.67 96.1667 1296 94.0001C1284 81.6001 1274 88.8334 1270.5 94.0001C1272.1 102.8 1261.83 105.667 1256.5 106C1238.1 107.6 1221.17 116.333 1215 120.5C1199 130.5 1206.33 138.333 1212 141C1216.8 142.2 1232.33 148.833 1239.5 152C1255.9 163.2 1248.67 179 1243 185.5C1225.8 205.9 1197.17 210.667 1185 210.5C1168.2 208.5 1170.33 218.333 1173.5 223.5C1186.3 235.5 1190.5 242.5 1191 244.5C1195.8 264.9 1179.33 268.667 1170.5 268C1154.1 264.8 1142.33 268.333 1138.5 270.5C1125.3 278.5 1135.33 282.833 1142 284C1152.8 290 1151.5 295.833 1149.5 298C1145.1 307.2 1131 301.833 1124.5 298C1109.7 289.2 1110 297.333 1112 302.5C1126 314.1 1121.5 319.333 1117.5 320.5C1104.7 314.9 1096.83 293.833 1094.5 284C1080.5 291.6 1070 276.5 1066.5 268C1054.9 257.6 1046.33 263.667 1043.5 268C1044.3 278 1037.5 279.5 1034 279C1026.4 277.8 1021.17 283.5 1019.5 286.5C1020.3 302.9 1009.5 305.333 1004 304.5C987.2 273.3 958.666 262.167 946.5 260.5C929.3 259.3 908.666 255.333 900.5 253.5C875.3 243.9 864.666 247.834 862.5 251C869.3 258.6 887 261.5 895 262C915.8 259.2 915.333 267.834 912.5 272.5C898.9 283.7 864.166 290.167 848.5 292C844.5 285.961 822.5 265.484 812 256C800.4 252.4 801.166 257.5 803 260.5L828 290.5C834.8 302.1 867.5 300.333 883 298C878.2 318.4 845.333 333.167 829.5 338C816.3 344.8 824 355.833 829.5 360.5C836.3 372.1 826.666 377 821 378C800.2 382.4 794.666 394.167 794.5 399.5C795.7 411.1 790 415 787 415.5C781 421.1 759.833 421.167 750 420.5C738.8 422.1 733.666 413.167 732.5 408.5C732.5 400.5 721.5 391.833 716 388.5C699.2 375.7 701.666 364.5 705 360.5C711.4 351.7 704.333 345.5 700 343.5Z"
          stroke="black"
        />
        <path
          d="M1208 372C1194.8 383.2 1178.5 383.667 1172 382.5C1162.4 386.1 1161.33 392.667 1162 395.5C1161.2 401.1 1166 408.833 1168.5 412C1172.1 417.2 1167 422.5 1164 424.5C1163.6 427.3 1166.83 429.667 1168.5 430.5C1176.1 434.1 1190 432 1196 430.5C1201.2 428.1 1215.83 424.833 1222.5 423.5C1232.1 421.1 1242.5 422.5 1246.5 423.5C1253.3 424.3 1260 432.833 1262.5 437C1264.9 441.4 1270.5 446.5 1273 448.5C1285 456.5 1300.33 451.833 1306.5 448.5C1316.1 444.5 1332.17 430.167 1339 423.5C1345.8 416.7 1341.83 407 1339 403C1336.2 397 1316.17 386.833 1306.5 382.5C1305.3 374.5 1299 369.5 1296 368C1283.2 361.2 1281.67 368.833 1282.5 373.5C1271.7 371.1 1261.67 366.5 1258 364.5C1234.8 356.9 1215 366.333 1208 372Z"
          stroke="black"
        />
        <path
          d="M1154 322.5C1168 317.7 1190.5 318.5 1200 319.5C1206 319.5 1203.83 323.5 1202 325.5L1190.5 335.5C1186.9 338.7 1178.67 339.5 1175 339.5C1170.2 339.5 1160 335.833 1155.5 334C1143.1 328 1149.33 323.833 1154 322.5Z"
          stroke="black"
        />
        <path
          d="M1196 360.5C1144.8 364.9 1105.67 333.667 1092.5 317.5C1106.9 314.3 1129.17 332.167 1138.5 341.5C1144.5 346.3 1155 349.5 1159.5 350.5C1197.5 356.1 1199.67 359.5 1196 360.5Z"
          stroke="black"
        />
        <path
          d="M381 505C346.6 498.6 327.667 474.333 322.5 463C316.5 444.6 322.333 429 326 423.5C338.8 407.5 342 394.167 342 389.5C341.6 377.5 328.5 370.167 322 368C311.6 364.8 296.667 356 290.5 352C270.5 337.6 279.5 329.667 286.5 327.5C298.9 324.7 294.333 315.333 290.5 311C279.7 313.8 272 307.5 269.5 304C261.9 296.4 254.333 296.833 251.5 298C242.3 301.2 235.667 296.667 233.5 294C229.9 287.6 216 287 209.5 287.5C175.9 289.5 161.5 264 158.5 251C152.5 237.8 134.667 231.833 126.5 230.5C102.5 223.3 99.8333 210.833 101.5 205.5C106.7 193.9 100.333 184.333 96.5 181C78.5 161.4 88.3333 145.167 95.5 139.5C123.9 115.9 71 113.333 41 115C34.2 120.6 20.1668 121 14.0002 120.5C3.20039 119.7 2.16681 115.833 3 114C7.4 106 3.83348 101 1.50022 99.5001V94.0001C-0.0997829 86.8001 9.16688 83.6667 14.0002 83.0001C22.4002 81.4001 19.5 77.6667 16.9999 76.0001C11.7998 73.6001 14.8332 70.0001 16.9999 68.5001C14.9999 65.7001 19.4999 64.6667 21.9999 64.5001H43.4999C50.2999 64.1001 48.6666 60.0001 46.9999 58.0001C45.7999 55.6001 40.8332 52.6667 38.4999 51.5001C30.4999 46.7001 36.1665 42.5001 39.9999 41.0001C51.9999 34.6001 69.6665 35.3334 76.9999 36.5001C94.5999 33.3001 104.333 38.8334 107 42.0001C109.4 46.0001 116 49.3334 119 50.5001C120.6 51.3001 132.333 55.5001 138 57.5001C140.8 58.7001 149.167 61.6667 153 63.0001C157 64.6001 163.667 62.3334 166.5 61.0001C171.7 57.4001 181 58.8334 185 60.0001C189.4 61.6001 197.5 62.0001 201 62.0001C209 60.4001 220.333 61.3334 225 62.0001C230.6 63.2001 245 71.1667 251.5 75.0001C257.5 79.0001 274.333 79.6667 282 79.5001C295.2 79.9001 306.833 85.3334 311 88.0001C322.2 94.8001 322 104.5 320.5 108.5C316.5 120.9 303.167 121.667 297 120.5C285 117.3 275 123.5 271.5 127C265.1 133 268.167 140.167 270.5 143C276.5 150.6 285.667 151.5 289.5 151C298.3 150.2 304.167 153 306 154.5C308.8 157.3 314.167 160 316.5 161C340.1 161.4 338.667 152.167 335 147.5C326.2 135.1 335 129.333 340.5 128C357.7 125.6 365 138 366.5 144.5C370.1 142.9 379.667 142.167 384 142C390 140.8 393.833 148.167 395 152C394.6 156 400.5 163.333 403.5 166.5C406.3 168.9 411.667 174.167 414 176.5C417.6 182.1 409.833 187.167 405.5 189C402.3 191.8 384.167 191.167 375.5 190.5C367.5 189.3 363.833 196 363 199.5C361 205.5 352.5 206.333 348.5 206C342.5 206 332.667 207 328.5 207.5C308.9 209.9 311.667 215.5 315.5 218C317.9 220.8 315.5 226.5 314 229C306 239.8 294.333 239.833 289.5 238.5C281.1 238.1 276.333 244 275 247C269 260.2 263.167 258.167 261 255.5C254.6 240.7 232 241.333 221.5 243.5C202.7 248.3 201 258.167 202.5 262.5C206.1 272.9 218.666 274.5 224.5 274C240.1 272.4 251.333 274.667 255 276C265 280.4 264.5 285.5 263 287.5C261 291.9 265.167 293 267.5 293C271.1 292.6 274 294.833 275 296C275.8 297.2 279 299.833 280.5 301C289.3 305 295.5 303.333 297.5 302C311.1 287.2 329.5 292.5 337 297C344.6 299.8 353.833 297.5 357.5 296C365.1 293.6 368.333 295.667 369 297C375.4 302.6 386.333 304.667 391 305C399.8 304.2 408.333 311.333 411.5 315C420.7 322.6 427.333 326.167 429.5 327C437.9 330.2 451.667 330 457.5 329.5C475.5 327.9 487 332.167 490.5 334.5C498.5 338.9 498.167 347.333 497 351C494.6 357.8 485 364.167 480.5 366.5C475.3 369.7 476 375.5 477 378C478.6 380.8 479.333 384.167 479.5 385.5C478.7 391.9 472.833 394.167 470 394.5C468.8 395.3 453.167 394.833 445.5 394.5C434.3 394.5 431.5 399.5 431.5 402V417.5C427.5 428.7 414.5 433.833 408.5 435C395.7 435.4 393.167 440.833 393.5 443.5C391.9 450.3 386.5 450.667 384 450C382.4 449.2 379.333 450.333 378 451C372.8 453.4 373.5 458.333 374.5 460.5C377.3 466.1 375.667 469.167 374.5 470C373.7 471.2 370.5 474.833 369 476.5C365.8 479.3 367.667 482.333 369 483.5C369.8 484.7 374.333 487.667 376.5 489C384.5 493 387.833 496.667 388.5 498C391.7 504 384.833 505.167 381 505Z"
          stroke="black"
        />
        <path
          d="M525.5 111.5C511.9 110.7 497.833 119.167 492.5 123.5C476.5 135.1 459.5 129.667 453 125.5C432.6 112.3 442.167 93.3333 449.5 85.5C457.5 75.1 456.167 66.1667 454.5 63C451.3 53.8 438.833 49.1667 433 48C409 39.2 413.667 31.3333 419 28.5C423.4 25.7 437.5 24.6667 444 24.5C453.6 22.9 460 14.8334 462 11.0001C469.2 1.40005 485.333 0.666721 492.5 1.50005C503.3 2.70005 540.667 3.00007 558 3.00008C580.4 2.20008 595.333 11.0001 600 15.5001C611.2 25.1001 604.667 37.5001 600 42.5001C596.8 46.5001 580.667 61.1668 573 68.0001C564.2 74.8001 561 89.1667 560.5 95.5001C556.5 110.3 535.5 112.333 525.5 111.5Z"
          stroke="black"
        />
      </svg>
    </div>
    <div id="popover">
      <h3 id="popover-title"></h3>
      <p id="popover-address"></p>
    </div>
    <script>
      const mapContainer = document.getElementById("map-container");
      const worldMap = document.getElementById("world-map");
      const popover = document.getElementById("popover");
      const popoverTitle = document.getElementById("popover-title");
      const popoverAddress = document.getElementById("popover-address");

      const locations = [
        {
          name: "Dubai",
          address:
            "4004/4005, 40th floor, Citadel Tower, Al Marasi Drive Business Bay, P.O.BOX 417425, DUBAI, UAE",
          x: 68,
          y: 48,
        },
        {
          name: "Maldives",
          address:
            "M. Gulfaamuge, 1st Floor, Fareedhee Magu, Male City, 2019, Maldives",
          x: 72,
          y: 56,
        },
        {
          name: "Ghana",
          address:
            "17, Swaniker street, albelemkpe, Accra, Greater Accra, Ghana",
          x: 47,
          y: 54,
        },
        {
          name: "South Africa",
          address: "76 HAZEL ROAD RYLANDS ESTATE ATHLONE CAPE TOWN 7764",
          x: 54,
          y: 80,
        },
        {
          name: "London",
          address: "#9A Macdonald road, E7 OHE, London, United Kingdom.",
          x: 48,
          y: 34,
        },
        {
          name: "Malaysia",
          address:
            "Unit 16.03 & 16.04, 16th Floor Plaza 138, 138 Jalan Ampang 50450 Kuala Lumpur",
          x: 78,
          y: 56,
        },
        {
          name: "Sri Lanka",
          address: "No. 17/2, Duplication Road, Bambalapitiya, Colombo 04",
          x: 73,
          y: 54,
        },
      ];

      let scale = 1;
      let panning = false;
      let pointX = 0;
      let pointY = 0;
      let start = { x: 0, y: 0 };

      function setTransform() {
        worldMap.style.transform = `translate(${pointX}px, ${pointY}px) scale(${scale})`;
      }

      mapContainer.onmousedown = function (e) {
        e.preventDefault();
        start = { x: e.clientX - pointX, y: e.clientY - pointY };
        panning = true;
      };

      mapContainer.onmouseup = function (e) {
        panning = false;
      };

      mapContainer.onmousemove = function (e) {
        e.preventDefault();
        if (!panning) {
          return;
        }
        pointX = e.clientX - start.x;
        pointY = e.clientY - start.y;
        setTransform();
      };

      mapContainer.onwheel = function (e) {
        e.preventDefault();
        const xs = (e.clientX - pointX) / scale;
        const ys = (e.clientY - pointY) / scale;
        const delta = -e.deltaY;
        const newScale = delta > 0 ? scale * 1.2 : scale / 1.2;

        pointX = e.clientX - xs * newScale;
        pointY = e.clientY - ys * newScale;

        scale = newScale;
        setTransform();
      };

      function createMarker(location) {
        const marker = document.createElement("div");
        marker.className = "marker";
        marker.style.left = `${location.x}%`;
        marker.style.top = `${location.y}%`;

        marker.addEventListener("mouseover", (e) => {
          popoverTitle.textContent = location.name;
          popoverAddress.textContent = location.address;
          popover.style.left = `${e.pageX + 10}px`;
          popover.style.top = `${e.pageY + 10}px`;
          popover.style.display = "block";
        });

        marker.addEventListener("mouseout", () => {
          popover.style.display = "none";
        });

        mapContainer.appendChild(marker);
      }

      locations.forEach(createMarker);

      // Touch events for mobile
      mapContainer.addEventListener("touchstart", handleTouchStart, false);
      mapContainer.addEventListener("touchmove", handleTouchMove, false);

      let xDown = null;
      let yDown = null;
      let lastDistance = 0;

      function getTouches(evt) {
        return evt.touches || evt.originalEvent.touches;
      }

      function handleTouchStart(evt) {
        const firstTouch = getTouches(evt)[0];
        xDown = firstTouch.clientX;
        yDown = firstTouch.clientY;
        if (evt.touches.length === 2) {
          lastDistance = getDistance(evt.touches[0], evt.touches[1]);
        }
      }

      function handleTouchMove(evt) {
        if (!xDown || !yDown) {
          return;
        }

        if (evt.touches.length === 2) {
          const newDistance = getDistance(evt.touches[0], evt.touches[1]);
          const delta = newDistance - lastDistance;
          const newScale = delta > 0 ? scale * 1.02 : scale / 1.02;

          const midX = (evt.touches[0].clientX + evt.touches[1].clientX) / 2;
          const midY = (evt.touches[0].clientY + evt.touches[1].clientY) / 2;

          const xs = (midX - pointX) / scale;
          const ys = (midY - pointY) / scale;

          pointX = midX - xs * newScale;
          pointY = midY - ys * newScale;

          scale = newScale;
          lastDistance = newDistance;
        } else {
          const xUp = evt.touches[0].clientX;
          const yUp = evt.touches[0].clientY;
          const xDiff = xDown - xUp;
          const yDiff = yDown - yUp;

          pointX -= xDiff;
          pointY -= yDiff;

          xDown = xUp;
          yDown = yUp;
        }

        setTransform();
      }

      function getDistance(touch1, touch2) {
        const dx = touch1.clientX - touch2.clientX;
        const dy = touch1.clientY - touch2.clientY;
        return Math.sqrt(dx * dx + dy * dy);
      }
    </script>
  </body>
</html>
